<div class="container-fluid">
    <div class="row g-0">
        <div class="header-section">
            <div class="col-12 main_conatiner">
                <div class="col-4">
                    <div class="logo_container">
                        <img src="assets/images/logo.png" class="logo" alt="">
                    </div>
                </div>
                <div class="col-4 center_title_moviename justify-content-start">
                    <div class="sicon_container">
                        <i class="fa fa-angle-left left_arrow" aria-hidden="true" (click)="goBack()"></i>
                    </div>
                    <div class="tittle_container text-center">
                        <h1 class="events_name_tittle text-center">{{title}}</h1>
                    </div>
                </div>
                <div class="col-4">

                </div>
            </div>

            <div class="sub_header bg-white d-flex justify-content-center gap-2">
                <div class="sub_content">
                    <div class="d-flex justify-content-center align-items-center gap-2">
                        <span class="sub_header_tittle fs-5">Ticket</span>
                    </div>
                </div>
            </div>
            @for (item of allShows; track $index)
            {
            <div class="theater_detail_info">
                <div class="col-4 titles_theater_box">
                    <h4 class="theater_name_text">{{item.venueName}}</h4>
                    <p class="theater_name_text">{{date}} | {{item.shows?.[0]?.time}} PM</p>
                </div>
            </div>
            }
            @empty {
            <div class="text-center text-danger shadow-sm mt-3 fs-4 bg-white">
                Sorry , No Shows Found for this Events
            </div>
            }
        </div>

    </div>
</div>

<div class="container-fluid">
    <div class="row d-flex flex-column justify-content-between g-0">
        <div class="main_container_box_content">
            <div class="events_priceList d-flex justify-content-center align-items-center">
                <div class="col-4 titles_theater_box">
                    <div class="theater_name_text">Select Tickets</div>
                    <span class="theater_sub_name">You can add up to 10 tickets only</span>
                </div>
            </div>
            <div class="d-flex justify-content-center">
                <div class="col-4 titles_theater_box">
                    <div class="select_ticket_sloats mt-3">
                        <div class="rate_seatting_text">
                            <span class="seatting_type">ENTRY PASS</span>
                            <span class="seatting_price">{{money | currency:'INR'}}</span>
                        </div>
                        <div>
                            @if(!add){
                            <button class="btn_add" (click)="addMember()">Add</button>
                            }@else {
                            <div class="counters_ticket">
                                <span class="shine_text" (click)="decreaseCounter()">
                                    -
                                </span>
                                <span>
                                    {{value}}
                                </span>
                                <span class="shine_text" (click)="increaseCounter()">
                                    +
                                </span>
                            </div>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="procceed_button_section">
    @if(add){
    <div class="col-4 d-flex justify-content-between align-items-center">
        <div class="d-flex flex-column gap-1">
            <span class="seatting_type">TOTAL PRICE</span>
            <span class="seatting_price">{{totalMoney | currency:'INR'}}</span>
        </div>
        @if(allShows.length!=0){
<div class="button_section">
            <button class="btn btn-danger" (click)="bookingConfirmation(confirmModal)">BOOK</button>
        </div>
        }
        
    </div>
    }
    @else {
    <div class="col-4">
        <button class="btn btn-secondary w-100">Proceed</button>
    </div>
    }
    <ng-template #confirmModal let-modal>
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content border-0 ">
                <div class="modal-header justify-content-center">
                    <h4 class="modal-title" id="ticketBookingConfirmation">Ticekt Booking Confirmation</h4>
                </div>

                <div class="modal-body border-0 text-center">
                    <p>you are about to book seats <span class="text-danger">{{selectedSeats}}</span></p>
                    <h5>Total Price : {{totalMoney | currency:'INR'}}</h5>
                </div>
                <div class="modal-footer border-0 justify-content-center">
                    <button type="button" class="btn btn-secondary" (click)="modal.dismiss()">Cancel</button>
                    <button type="button" class="btn btn-danger" (click)="modal.close('Book')">Book</button>
                </div>
            </div>
        </div>
    </ng-template>
</div>